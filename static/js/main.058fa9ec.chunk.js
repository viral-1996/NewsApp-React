(this["webpackJsonpassignment-8"]=this["webpackJsonpassignment-8"]||[]).push([[0],{74:function(e,t,a){e.exports=a(99)},79:function(e,t,a){},81:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(15),o=a.n(r),s=(a(79),a(11)),l=a(12),i=a(14),m=a(13),p=(a(46),a(9)),u=a(56),d=a.n(u),g=a(64),h=(a(81),a(51)),f=a(18),b=a(65),k=a.n(b),v=a(22),E=a(0),w=a(10),N=a(71),y=a(67),_=a(23),C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){localStorage.setItem("toggleState",e?"guardian":"nytimes"),n.setState({checked:e},(function(){return console.log()})),n.props.callback(e)},n.displaySwitch=function(){return!window.location.href.includes("/NewsApp-React/search")&&(!window.location.href.includes("/NewsApp-React/post")&&!window.location.href.includes("/NewsApp-React/bookmark"))},n.bookmarkColor=function(){return!!window.location.href.includes("/NewsApp-React/bookmark")},n.handleInputChange=function(e){var t=e;return n.setState({inputValue:t}),console.log(t),t},n.getSearchValue=function(e){n.setState({inputValue:e.value},(function(){n.props.history.push("/NewsApp-React/search?".concat(n.state.checked?"gd":"ny","=")+e.value)}))},n.getActiveClass=function(e){return n.props.location.pathname==e},n.state={checked:!localStorage.getItem("toggleState")||"guardian"==localStorage.getItem("toggleState"),error:null,suggestion:[],inputValue:""},n}return Object(l.a)(a,[{key:"filterSuggestion",value:function(){var e=Object(g.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[{value:t,label:t}],e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(h.a,{collapseOnSelect:!0,expand:"lg",variant:"dark"},c.a.createElement(N.a,{loadOptions:Object(y.debounce)(this.filterSuggestion,1e3,{leading:!0}),onInputChange:this.handleInputChange,noOptionsMessage:function(){return"No Match"},onChange:this.getSearchValue,placeholder:"Enter Keyword ..."}),c.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(h.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(f.a,{className:"mr-auto"},c.a.createElement(f.a.Link,null,c.a.createElement(w.b,{className:this.getActiveClass("/NewsApp-React")?"active":"",to:"/NewsApp-React"},"Home")),c.a.createElement(f.a.Link,null,c.a.createElement(w.b,{className:this.getActiveClass("/NewsApp-React/world")?"active":"",to:"/NewsApp-React/world"},"World")),c.a.createElement(f.a.Link,null,c.a.createElement(w.b,{className:this.getActiveClass("/NewsApp-React/politics")?"active":"",to:"/NewsApp-React/politics"},"Politics")),c.a.createElement(f.a.Link,null,c.a.createElement(w.b,{className:this.getActiveClass("/NewsApp-React/business")?"active":"",to:"/NewsApp-React/business"},"Business")),c.a.createElement(f.a.Link,null,c.a.createElement(w.b,{className:this.getActiveClass("/NewsApp-React/technology")?"active":"",to:"/NewsApp-React/technology"},"Technology")),c.a.createElement(f.a.Link,null,c.a.createElement(w.b,{className:this.getActiveClass("/NewsApp-React/sport")?"active":"",to:"/NewsApp-React/sport"},"Sports"))),c.a.createElement(f.a,null,c.a.createElement(f.a.Link,{href:this.bookmarkColor()?"/NewsApp-React":"/NewsApp-React/bookmarks"},c.a.createElement("div",{"data-tip":"bookmarks"},this.bookmarkColor()?c.a.createElement(E.b.Provider,{value:{color:"white"}},c.a.createElement(v.a,{size:20,className:"bookmark-icon"})):c.a.createElement(E.b.Provider,{value:{color:"white"}},c.a.createElement(v.b,{size:20,className:"bookmark-icon"}))),c.a.createElement(_.a,{className:"tooltip",place:"bottom",type:"dark",effect:"solid"}))),this.displaySwitch()?c.a.createElement(f.a,{className:"right"},c.a.createElement(f.a.Link,null,"NY Times"),c.a.createElement("label",{htmlFor:"material-switch"},c.a.createElement(k.a,{checked:this.state.checked,onChange:this.handleChange,onColor:"#038EFA",onHandleColor:"#fff",handleDiameter:20,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:22,width:40,className:"react-switch",id:"material-switch"})),c.a.createElement(f.a.Link,null,"Guardian")):null)))}}]),a}(c.a.Component),O=Object(p.f)(C),S=a(36),j=a(72),A=a(104),I=a(105),x=a(106),T=a(107),D=a(108),R=a(109),P=a(45),L=(a(90),a(69)),z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).Example=function(){var e=c.a.useState(!1),t=Object(j.a)(e,2),a=t[0],r=t[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{onClick:function(e){console.log("handleshow",e),e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r(!0)}}),c.a.createElement(P.a,{show:a,onClick:function(){r(!1)}},c.a.createElement(P.a.Header,{closeButton:!0},c.a.createElement(P.a.Title,null,n.props.title)),c.a.createElement(P.a.Footer,null,c.a.createElement("div",{className:"mo-footer"},"Share Via"),c.a.createElement("div",{className:"social_media_icons_row"},c.a.createElement("div",{className:"icon left-align"},c.a.createElement(A.a,{url:"www.facebook.com",quote:n.props.url,hashtag:"#CSCI_571_NewsApp"},c.a.createElement(I.a,{size:50,round:!0}))),c.a.createElement("div",{className:"icon center-align"},c.a.createElement(x.a,{url:"www.twitter.com",title:n.props.url,hashtags:["CSCI_571_NewsApp"]},c.a.createElement(T.a,{size:50,round:!0}))),c.a.createElement("div",{className:"icon right-align"},c.a.createElement(D.a,{subject:"CSCI_571_NewsApp",body:n.props.url},c.a.createElement(R.a,{size:50,round:!0})))))))},n}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(this.Example,null)}}]),a}(c.a.Component),B=a(47),Y=(a(91),a(70)),U=a.n(Y),M=a(24),F=(a(63),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).checkArticleInBookmark=function(){for(var e=JSON.parse(localStorage.getItem("bookmarks")).bookmark,t=0;t<e.length;t++)if(e[t].id==n.props.id)return t;return!1},n.notify=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("bookmarks")),a=n.checkArticleInBookmark();if(!1===a){var c={};c.id=n.props.id,c.type=n.props.type,c.image=n.props.article_image,c.title=n.props.article_title,c.description=n.props.description,c.display_flag=n.props.display_flag,c.url=n.props.url,c.date=n.props.dte,c.section=n.props.section,t.bookmark.push(c),Object(M.c)("Saving: "+n.props.article_title,{className:"toast_text"})}else t.bookmark.splice(a,1),Object(M.c)("Removing from Bookmarks: "+n.props.article_title,{className:"toast_text"});localStorage.setItem("bookmarks",JSON.stringify(t)),n.forceUpdate()},n.componentDidMount=function(){console.log("here did mount",n.props),n.removeCommentBox=U()("5706336549470208-proj",{defaultBoxId:n.props.id})},n.componentWillUnmount=function(){n.removeCommentBox()},n.state={opened:!1},n.toggleBox=n.toggleBox.bind(Object(B.a)(n)),n}return Object(l.a)(a,[{key:"toggleBox",value:function(){var e=this.state.opened;this.setState({opened:!e})}},{key:"render",value:function(){var e=this.props,t=(e.id,e.d,e.articleDate),a=e.display_flag,n=e.article_image,r=e.article_title,o=e.description,s=e.url,l=e.children,i=this.state.opened;console.log("image",n),console.log("prop",this.props);var m="";return a?(a&&i?(m=c.a.createElement(v.d,{size:32}),setTimeout((function(){window.scrollTo({top:1e4,left:0,behavior:"smooth"})}),1)):(m=c.a.createElement(v.c,{size:32}),setTimeout((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),1)),c.a.createElement("div",null,c.a.createElement("div",{className:"box test"},c.a.createElement("div",{className:"boxTitle"},c.a.createElement("p",{className:"title"},c.a.createElement("i",null,r)),c.a.createElement("div",{className:"date_icon"},c.a.createElement("p",null,c.a.createElement("i",null,t)),c.a.createElement("div",{className:"shre"},c.a.createElement("div",null,c.a.createElement(A.a,{"data-tip":"Facebook","data-for":"facebook",url:"www.facebook.com",quote:s,hashtag:"#CSCI_571_NewsApp"},c.a.createElement(I.a,{size:32,round:!0})),c.a.createElement(_.a,{id:"facebook",className:"tooltip",place:"top",type:"dark",effect:"solid"}),c.a.createElement(x.a,{"data-tip":"Twitter","data-for":"twitter",url:"www.twitter.com",title:s,hashtags:["CSCI_571_NewsApp"]},c.a.createElement(T.a,{size:32,round:!0})),c.a.createElement(_.a,{id:"twitter",className:"tooltip",place:"top",type:"dark",effect:"solid"}),c.a.createElement(D.a,{"data-tip":"Email","data-for":"email",url:"www.gmail.com",subject:"#CSCI_571_NewsApp",body:s},c.a.createElement(R.a,{size:32,round:!0})),c.a.createElement(_.a,{id:"email",className:"tooltip",place:"top",type:"dark",effect:"solid"})),c.a.createElement("div",{className:"bookmark",onClick:this.notify},c.a.createElement("p",{"data-tip":"bookmark","data-for":"bookmark"},!1===this.checkArticleInBookmark()?c.a.createElement(E.b.Provider,{value:{color:"red"}},c.a.createElement(v.b,{size:32})):c.a.createElement(E.b.Provider,{value:{color:"red"}},c.a.createElement(v.a,{size:32}))),c.a.createElement(_.a,{id:"bookmark",className:"tooltip",place:"top",type:"dark",effect:"solid"}),c.a.createElement(M.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,transition:M.b,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnVisibilityChange:!1,draggable:!1,pauseOnHover:!1})))),c.a.createElement("br",null),c.a.createElement("img",{src:n,width:"100%"}),c.a.createElement("br",null),o,i?"":"...",c.a.createElement("br",null)),i&&c.a.createElement("div",{class:"boxContent"},l),c.a.createElement("div",{style:{height:"35px"}},c.a.createElement("span",{onClick:this.toggleBox,style:{float:"right"}},m))),c.a.createElement("div",{className:"commentbox"}))):c.a.createElement("div",null,c.a.createElement("div",{className:"box test"},c.a.createElement("div",{className:"boxTitle"},c.a.createElement("p",{className:"title"},c.a.createElement("i",null,r)),c.a.createElement("div",{className:"date_icon"},c.a.createElement("p",null,c.a.createElement("i",null,t)),c.a.createElement("div",{className:"shre"},c.a.createElement("div",null,c.a.createElement(A.a,{"data-tip":"Facebook","data-for":"facebook",url:"www.facebook.com",quote:s,hashtag:"#CSCI_571_NewsApp"},c.a.createElement(I.a,{size:32,round:!0})),c.a.createElement(_.a,{id:"facebook",className:"tooltip",place:"top",type:"dark",effect:"solid"}),c.a.createElement(x.a,{"data-tip":"Twitter","data-for":"twitter",url:"www.twitter.com",title:s,hashtags:["CSCI_571_NewsApp"]},c.a.createElement(T.a,{size:32,round:!0})),c.a.createElement(_.a,{id:"twitter",className:"tooltip",place:"top",type:"dark",effect:"solid"}),c.a.createElement(D.a,{"data-tip":"Email","data-for":"email",url:"www.gmail.com",subject:"#CSCI_571_NewsApp",body:s},c.a.createElement(R.a,{size:32,round:!0})),c.a.createElement(_.a,{id:"email",className:"tooltip",place:"top",type:"dark",effect:"solid"})),c.a.createElement("div",{className:"bookmark",onClick:this.notify},c.a.createElement("p",{"data-tip":"bookmark","data-for":"bookmark"},!1===this.checkArticleInBookmark()?c.a.createElement(E.b.Provider,{value:{color:"red"}},c.a.createElement(v.b,{size:32})):c.a.createElement(E.b.Provider,{value:{color:"red"}},c.a.createElement(v.a,{size:32}))),c.a.createElement(_.a,{id:"bookmark",className:"tooltip1",place:"top",type:"dark",effect:"solid"}),c.a.createElement(M.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,transition:M.b,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnVisibilityChange:!1,draggable:!1,pauseOnHover:!1})))),c.a.createElement("br",null),c.a.createElement("img",{src:n,width:"100%"}),c.a.createElement("br",null),o,c.a.createElement("br",null))),c.a.createElement("div",{className:"commentbox"}))}}]),a}(c.a.Component)),G=a(4),W=a(39),q=a.n(W);function H(){var e=Object(S.a)([" padding-top: 50px; display: block; margin: 0 auto; border-color: red;"]);return H=function(){return e},e}var V=Object(G.css)(H()),J=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.location.search,t=e.slice(1,3);n.setState({sourceType:t},console.log()),e=e.slice(4);var a="";a="gd"==t?"https://content.guardianapis.com/".concat(e,"?api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&show-blocks=all"):"https://api.nytimes.com/svc/search/v2/articlesearch.json?fq=web_url:(%22"+e+"%22)&api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi",console.log("fetching",a),fetch(a).then((function(e){return e.json()})).then((function(e){n.setState({isLoaded:!0,article:e})}),(function(e){n.setState({isLoaded:!1,error:e})}))},n.getTrimChar=function(e){var t=1500;if(console.log("trimming description",e.length),e.length<t)return e.length;for(;t>=0&&"."!=e.charAt(t);)console.log(t),t--;return t++},n.get_todays_date=function(e){var t=e.getDate(),a=e.getMonth()+1;return t=t<10?"0"+t:t,(e.getFullYear()+"-"+(a=a<10?"0"+a:a)+"-"+t).toString()},n.fetchNYTimesImage=function(e){if(e.multimedia){for(var t=0;t<e.multimedia.length&&e.multimedia[t].width<2e3;)t++;if(t<e.multimedia.length)return e.multimedia[t].url}return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg"},n.fetchGuardianImage=function(e){return e.blocks.main&&e.blocks.main.elements[0].assets&&e.blocks.main.elements[0].assets.length>0&&e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].typeData.width>2e3?e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file:"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png"},n.state={isLoaded:!1,error:null,article:"",sourceType:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.article,r=e.sourceType;if(t)return c.a.createElement("div",null,"Error");if(a){var o,s,l,i,m,p=1,u=800,d="",g="";if("gd"==r){var h=n.response.content;d=h.blocks.body[0].bodyTextSummary,o=new Date(h.webPublicationDate),s=h.webTitle,l=this.fetchGuardianImage(h),i=h.webUrl,m=h.sectionId}else d=n.response.docs[0].abstract,o=new Date(n.response.docs[0].pub_date),s=n.response.docs[0].headline.main,l=this.fetchNYTimesImage(n.response.docs[0]).startsWith("http")?this.fetchNYTimesImage(n.response.docs[0]):"http://nytimes.com/"+this.fetchNYTimesImage(n.response.docs[0]),i=n.response.docs[0].web_url,m=n.response.docs[0].news_desk;(d=d.trim()).split(".");if(d.length<u&&(p=0),p){for(;u>0&&" "!=d.charAt(u);)u--;g=d.slice(u),d=d.slice(0,u)}var f=this.get_todays_date(o);return console.log(f),c.a.createElement("div",{className:"expanded_article"},c.a.createElement(F,{type:r,dte:o,section:m,id:this.props.location.search.slice(4),articleDate:f,display_flag:p,article_image:l,article_title:s,description:d,url:i},c.a.createElement("div",null,g)))}return c.a.createElement("div",{className:"loading"},c.a.createElement(q.a,{css:V,size:50,color:"#3f48cc",loading:!a}),"Loading")}}]),a}(c.a.Component),Q=a(28),X=a(55),K=(a(96),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getPostId=function(e){return console.log("getting id",e),"ny"==e.type?"/NewsApp-React/post?ny="+e.id:"/NewsApp-React/post?gd="+e.id},n.category=["sport","business","politics","world","technology","sports","gd","ny"],n.get_todays_date=function(e){var t=e.getDate(),a=e.getMonth()+1;return t=t<10?"0"+t:t,(e.getFullYear()+"-"+(a=a<10?"0"+a:a)+"-"+t).toString()},n.checkArticleInBookmark=function(e){for(var t=0;t<e.length;t++)if(e[t].id==n.props.id)return t;return!1},n.handleClick=function(e){e.preventDefault()},n.removeBookmark=function(e){return function(t){t.preventDefault();for(var a=JSON.parse(localStorage.getItem("bookmarks")),c=0;c<a.bookmark.length&&a.bookmark[c].id!=e;c++);Object(M.c)("Removing from Bookmarks: "+a.bookmark[c].title,{className:"toast_text"}),a.bookmark.splice(c,1),localStorage.setItem("bookmarks",JSON.stringify(a)),setTimeout((function(){n.forceUpdate()}),1e3)}},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("bookmarks"));return console.log(t),0==t.bookmark.length?c.a.createElement("div",{className:"no_articles"},"You have no Saved Articles"):c.a.createElement("div",{className:"bookmark_page"},c.a.createElement("p",{className:"bookmark_header"},"Favorites"),c.a.createElement("div",{className:"container_search"},t.bookmark.map((function(t){return c.a.createElement("div",{className:"item_search"},c.a.createElement(w.b,{className:"searchCards",to:e.getPostId(t)},c.a.createElement("p",null,c.a.createElement("b",null,c.a.createElement("i",null,t.title)),"\xa0\xa0\xa0",c.a.createElement("span",{onClick:e.handleClick},c.a.createElement(z,{title:t.title,url:t.url})),"\xa0",c.a.createElement("span",{onClick:e.removeBookmark(t.id)},c.a.createElement("span",null,c.a.createElement(X.a,null),c.a.createElement(M.a,{position:"top-center",autoClose:2e3,hideProgressBar:!0,transition:M.b,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnVisibilityChange:!1,draggable:!1,pauseOnHover:!1})))),c.a.createElement("img",{src:t.image}),c.a.createElement("div",{className:"date_badge"},e.get_todays_date(new Date(t.date)),c.a.createElement("div",{class:"badgeicons"},c.a.createElement(Q.a,{variant:"secondary",className:t.type},"gd"==t.type?"GUARDIAN":"NYTIMES")," ",c.a.createElement(Q.a,{variant:"secondary",className:e.category.indexOf(t.section.toLowerCase())>-1?t.section.toLowerCase():"other"},t.section.toUpperCase())," "))))}))))}}]),a}(c.a.Component));a(97);function $(){var e=Object(S.a)(["\n\tpadding-top: 50px;\n\tdisplay: block;\n\tmargin: 0 auto;\n\tborder-color: red;\n"]);return $=function(){return e},e}var Z=Object(G.css)($()),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=function(e){e.preventDefault()},n.category=["sport","business","politics","world","technology"],n.categoryNY=["sports","business","politics","world","technology"],n.curr="",n.componentWillReceiveProps=function(e){console.log("will receive",n.props,e),console.log("will prev",e),console.log("will cur",n.props);n.props.match.params.category;var t="";t=!1===e.news?"https://api.nytimes.com/svc/topstories/v2/".concat(n.curr?n.curr:"home",".json?api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"):"https://content.guardianapis.com/search?api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&section=".concat(n.curr?n.curr:"(sport|business|technology|politics)","&show-blocks=all"),n.props.news!=e.news&&n.fetchArticles(t)},n.componentDidUpdate=function(e){n.curr=n.props.match.params.category;var t="";t=!0===n.props.news?"https://content.guardianapis.com/search?api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&section=".concat(n.curr?n.curr:"(sport|business|technology|politics)","&show-blocks=all"):"https://api.nytimes.com/svc/topstories/v2/".concat(n.curr?n.curr:"home",".json?api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"),n.props.match.params.category!=e.match.params.category&&n.fetchArticles(t)},n.componentDidMount=function(){n.curr=n.props.match.params.category;var e="";e=!0===n.props.news?"https://content.guardianapis.com/search?api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&section=".concat(n.curr?n.curr:"(sport|business|technology|politics)","&show-blocks=all"):"https://api.nytimes.com/svc/topstories/v2/".concat(n.curr?n.curr:"home",".json?api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"),n.fetchArticles(e)},n.fetchArticles=function(e){console.log("fetching",e),n.setState({isLoaded:!1}),fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({isLoaded:!0,newsArticles:e})}),(function(e){n.setState({isLoaded:!1,error:e})}))},n.fetchNYTimesImage=function(e){if(e.multimedia){for(var t=0;t<e.multimedia.length&&e.multimedia[t].width<2e3;)t++;if(t<e.multimedia.length)return e.multimedia[t].url}return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg"},n.fetchGuardianImage=function(e,t){return e.blocks.main&&e.blocks.main.elements[0].assets&&e.blocks.main.elements[0].assets.length>0&&e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].typeData.width>2e3?e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file:"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png"},n.getPostId=function(e){return n.props.news?"/NewsApp-React/post?gd="+e.id:"/NewsApp-React/post?ny="+e.url},n.get_todays_date=function(e){var t=e.getDate(),a=e.getMonth()+1;return t=t<10?"0"+t:t,(e.getFullYear()+"-"+(a=a<10?"0"+a:a)+"-"+t).toString()},n.state={newsArticles:[],isLoaded:!1,error:null,toggle:""},n}return Object(l.a)(a,[{key:"trimDescription",value:function(e){var t=500;if(e.length<t)return e;for(;" "!==e.charAt(t)&&t>0;)t--;return e.slice(0,t)+" ..."}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded,r=t.newsArticles;return a?c.a.createElement("div",null,console.log(a)):n?this.props.news?c.a.createElement("div",{className:"news-container"},r.response.results.map((function(t,a){return c.a.createElement(w.b,{className:"minimizedPage",to:e.getPostId(t)},c.a.createElement("div",{className:"flex-grid-thirds news"},c.a.createElement("div",{className:"col_img"},c.a.createElement("img",{src:e.fetchGuardianImage(t)})),c.a.createElement("div",{className:"col_text"},c.a.createElement("p",null,c.a.createElement("i",null,c.a.createElement("b",null,t.webTitle),c.a.createElement("span",{onClick:e.handleClick},c.a.createElement(z,{title:t.webTitle,url:t.webUrl})))),c.a.createElement("text",null,e.trimDescription(t.blocks.body[0].bodyTextSummary)),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"date"},c.a.createElement("i",null,e.get_todays_date(new Date(t.webPublicationDate)))),c.a.createElement("div",{className:"badge"},c.a.createElement("text",{className:"bade"},c.a.createElement(Q.a,{variant:"secondary",className:e.category.indexOf(t.sectionId)>-1?t.sectionId:"other"},e.category.indexOf(t.sectionId)>-1?t.sectionId.toUpperCase():"HEALTH")," "))))))}))):(r.results=r.results.slice(0,10),c.a.createElement("div",{className:"news-container"},r.results.map((function(t,a){return c.a.createElement(w.b,{className:"minimizedPage",to:e.getPostId(t)},c.a.createElement("div",{class:"flex-grid-thirds"},c.a.createElement("div",{className:"col_img"},c.a.createElement("img",{src:e.fetchNYTimesImage(t)})),c.a.createElement("div",{className:"col_text"},c.a.createElement("p",null,c.a.createElement("i",null,c.a.createElement("b",null,t.title),c.a.createElement("span",{onClick:e.handleClick},c.a.createElement(z,{title:t.title,url:t.url})))),c.a.createElement("text",null,e.trimDescription(t.abstract)),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"date"},c.a.createElement("i",null,e.get_todays_date(new Date(t.created_date)))),c.a.createElement("div",{className:"badge"},c.a.createElement("text",{className:"bade"},c.a.createElement(Q.a,{variant:"secondary",className:e.categoryNY.indexOf(t.section)>-1?t.section:"other"},e.categoryNY.indexOf(t.section)>-1?t.section.toUpperCase():"HEALTH")))))))})))):c.a.createElement("div",{className:"loading"},c.a.createElement(q.a,{css:Z,size:50,color:"#3f48cc",loading:!n}),"Loading")}}]),a}(c.a.Component);a(98);function te(){var e=Object(S.a)(["\n\tpadding-top: 50px;\n\tdisplay: block;\n\tmargin: 0 auto;\n\tborder-color: red;\n"]);return te=function(){return e},e}var ae=Object(G.css)(te()),ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getPostId=function(e){return console.log("getting id",e),console.log(n.state.sourceType),"ny"==n.state.sourceType?(console.log("/post?ny="+e.article_url),"/NewsApp-React/post?ny="+e.article_url):"/NewsApp-React/post?gd="+e.id},n.componentDidUpdate=function(e){var t=n.state.sourceType,a="";if(e.location.search!=n.props.location.search){var c=n.props.location.search.slice(4);a="gd"==t?"https://content.guardianapis.com/search?q=".concat(c,"&api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&show-blocks=all"):"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(c,"&api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"),n.fetchArticles(a)}},n.componentDidMount=function(){var e=n.props.location.search.slice(1,3);n.setState({sourceType:e},console.log()),console.log(n.props.location.search);var t=n.props.location.search.slice(4),a="";a="gd"==e?"https://content.guardianapis.com/search?q=".concat(t,"&api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&show-blocks=all"):"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(t,"&api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"),n.fetchArticles(a)},n.fetchArticles=function(e){console.log("fetching",e),n.setState({isLoaded:!1}),fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({isLoaded:!0,articles:e})}),(function(e){n.setState({isLoaded:!1,error:e})}))},n.get_todays_date=function(e){var t=e.getDate(),a=e.getMonth()+1;return t=t<10?"0"+t:t,(e.getFullYear()+"-"+(a=a<10?"0"+a:a)+"-"+t).toString()},n.fetchImage=function(e,t){return e.blocks.main&&e.blocks.main.elements[0].assets&&e.blocks.main.elements[0].assets.length>0?e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file:"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png"},n.handleClick=function(e){e.preventDefault()},n.category=["sport","business","politics","world","technology"],n.categoryNY=["sports","business","politics","world","technology"],n.state={articles:[],isLoaded:!1,error:null,sourceType:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded,r=t.articles;if(a)return c.a.createElement("div",null,"Error");if(n){if("gd"==this.state.sourceType){if(0==r.response.results.length)return c.a.createElement("div",{className:"no_articles"},"No Articles Found");var o=r.response.results;return c.a.createElement("div",{className:"bookmark_page"},c.a.createElement("p",{className:"bookmark_header"}," Search Results"),c.a.createElement("div",{className:"container_search"},o.map((function(t){return c.a.createElement("div",{className:"item_search"},c.a.createElement(w.b,{className:"searchCards",to:e.getPostId(t)},c.a.createElement("p",null,c.a.createElement("b",null,t.webTitle),c.a.createElement("span",{onClick:e.handleClick},c.a.createElement(z,{title:t.webTitle,url:t.webUrl}))),c.a.createElement("img",{src:e.fetchImage(t)}),c.a.createElement("div",{className:"date_badge"},e.get_todays_date(new Date(t.webPublicationDate)),c.a.createElement(Q.a,{pill:!0,variant:"success",className:e.category.indexOf(t.sectionId)>-1?t.sectionId:"other"},t.sectionId.toUpperCase())," ")))}))))}for(var s=r.response.docs,l=[],i=0;i<s.length;i++){var m={},p=s[i].multimedia,u=1;if(p.length<0)u=0;else{var d=0;for(d=0;d<p.length;d++)if(p[d].width>2e3){u=0;break}if(d==p.length)continue}m.url=u?"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg":"http://www.nytimes.com/"+p[d].url,m.description=s[i].abstract,m.title=s[i].headline.main,m.article_url=s[i].web_url,m.pub_date=s[i].pub_date,m.section=s[i].news_desk,l.push(m)}return console.log("filtered",l),0==l.length?c.a.createElement("div",{className:"no_articles"},"No Articles Found"):c.a.createElement("div",{className:"bookmark_page"},c.a.createElement("p",{className:"bookmark_header"}," Search Results"),c.a.createElement("div",{className:"container_search"},l.map((function(t){return c.a.createElement("div",{className:"item_search"},c.a.createElement(w.b,{className:"minimizedPage",to:e.getPostId(t)},c.a.createElement("p",null,c.a.createElement("b",null,t.title),c.a.createElement("span",{onClick:e.handleClick},c.a.createElement(z,{title:t.title,url:t.article_url}))),c.a.createElement("img",{src:t.url}),c.a.createElement("div",{className:"date_badge"},e.get_todays_date(new Date(t.pub_date)),c.a.createElement(Q.a,{pill:!0,variant:"success",className:e.categoryNY.indexOf(t.section.toLowerCase())>-1?t.section.toLowerCase():"other"},t.section.toUpperCase())," ")))}))))}return c.a.createElement("div",{className:"loading"},c.a.createElement(q.a,{css:ae,size:50,color:"#3f48cc",loading:!n}),"Loading")}}]),a}(c.a.Component),ce=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e,n){var c;return Object(s.a)(this,a),(c=t.call(this,e)).getNewsSource=function(e){c.setState({source:e},(function(){return console.log()}))},localStorage.getItem("bookmarks")||localStorage.setItem("bookmarks",JSON.stringify({bookmark:[]})),c.state={source:!localStorage.getItem("toggleState")||"guardian"==localStorage.getItem("toggleState"),error:null,suggestion:[],inputValue:""},c}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(O,{callback:this.getNewsSource}),c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,strict:!0,path:"/NewsApp-React/post",component:J}),c.a.createElement(p.a,{exact:!0,strict:!0,path:"/NewsApp-React/bookmarks",component:K}),c.a.createElement(p.a,{exact:!0,strict:!0,path:"/NewsApp-React/search",render:function(t){return c.a.createElement(ne,Object.assign({},t,{news:e.state.source}))}}),c.a.createElement(p.a,{exact:!0,strict:!0,path:"/NewsApp-React",render:function(t){return c.a.createElement(ee,Object.assign({},t,{news:e.state.source}))}}),c.a.createElement(p.a,{exact:!0,strict:!0,path:"/NewsApp-React/:category",render:function(t){return c.a.createElement(ee,Object.assign({},t,{news:e.state.source}))}})))}}]),a}(c.a.Component),re=Object(p.f)(ce),oe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),console.log("App",e),n}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(re,null))}}]),a}(c.a.Component),se=Object(p.f)(oe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(w.a,null,c.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.058fa9ec.chunk.js.map