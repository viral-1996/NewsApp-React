(this["webpackJsonpassignment-8"]=this["webpackJsonpassignment-8"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(11),c=a.n(o),l=(a(81),a(12)),s=a(13),i=a(15),m=a(14),u=a(16),d=(a(48),a(33)),p=a(60),g=a.n(p),h=a(65),f=(a(83),a(54)),b=a(18),k=a(66),E=a.n(k),v=a(22),w=a(0),y=a(10),N=a(73),_=a(67),C=a(23),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){localStorage.setItem("toggleState",e?"guardian":"nytimes"),a.setState({checked:e},(function(){return console.log()})),a.props.callback(e)},a.displaySwitch=function(){return!window.location.href.includes("/search")&&(!window.location.href.includes("/post")&&!window.location.href.includes("/bookmark"))},a.bookmarkColor=function(){return!!window.location.href.includes("/bookmark")},a.handleInputChange=function(e){var t=e;return a.setState({inputValue:t}),console.log(t),t},a.getSearchValue=function(e){a.setState({inputValue:e.value},(function(){a.props.history.push("/search?".concat(a.state.checked?"gd":"ny","=")+e.value)}))},a.getActiveClass=function(e){return a.props.location.pathname==e},a.state={checked:!localStorage.getItem("toggleState")||"guardian"==localStorage.getItem("toggleState"),error:null,suggestion:[],inputValue:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"filterSuggestion",value:function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[{value:t,label:t}],e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",variant:"dark"},r.a.createElement(N.a,{loadOptions:Object(_.debounce)(this.filterSuggestion,1e3,{leading:!0}),onInputChange:this.handleInputChange,noOptionsMessage:function(){return"No Match"},onChange:this.getSearchValue,placeholder:"Enter Keyword ..."}),r.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(b.a.Link,null,r.a.createElement(y.b,{className:this.getActiveClass("/")?"active":"",to:"/"},"Home")),r.a.createElement(b.a.Link,null,r.a.createElement(y.b,{className:this.getActiveClass("/world")?"active":"",to:"/world"},"World")),r.a.createElement(b.a.Link,null,r.a.createElement(y.b,{className:this.getActiveClass("/politics")?"active":"",to:"/politics"},"Politics")),r.a.createElement(b.a.Link,null,r.a.createElement(y.b,{className:this.getActiveClass("/business")?"active":"",to:"/business"},"Business")),r.a.createElement(b.a.Link,null,r.a.createElement(y.b,{className:this.getActiveClass("/technology")?"active":"",to:"/technology"},"Technology")),r.a.createElement(b.a.Link,null,r.a.createElement(y.b,{className:this.getActiveClass("/sport")?"active":"",to:"/sport"},"Sports"))),r.a.createElement(b.a,null,r.a.createElement(b.a.Link,{href:this.bookmarkColor()?"/":"/bookmarks"},r.a.createElement("div",{"data-tip":"bookmarks"},this.bookmarkColor()?r.a.createElement(w.b.Provider,{value:{color:"white"}},r.a.createElement(v.a,{size:20,className:"bookmark-icon"})):r.a.createElement(w.b.Provider,{value:{color:"white"}},r.a.createElement(v.b,{size:20,className:"bookmark-icon"}))),r.a.createElement(C.a,{className:"tooltip",place:"bottom",type:"dark",effect:"solid"}))),this.displaySwitch()?r.a.createElement(b.a,{className:"right"},r.a.createElement(b.a.Link,null,"NY Times"),r.a.createElement("label",{htmlFor:"material-switch"},r.a.createElement(E.a,{checked:this.state.checked,onChange:this.handleChange,onColor:"#038EFA",onHandleColor:"#fff",handleDiameter:20,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:22,width:40,className:"react-switch",id:"material-switch"})),r.a.createElement(b.a.Link,null,"Guardian")):null)))}}]),t}(r.a.Component),j=Object(d.f)(O),S=a(37),I=a(74),x=a(109),T=a(110),D=a(111),A=a(112),P=a(113),L=a(114),z=a(47),B=(a(92),a(71)),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).Example=function(){var e=r.a.useState(!1),t=Object(I.a)(e,2),n=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{onClick:function(e){console.log("handleshow",e),e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),o(!0)}}),r.a.createElement(z.a,{show:n,onClick:function(){o(!1)}},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,null,a.props.title)),r.a.createElement(z.a.Footer,null,r.a.createElement("div",{className:"mo-footer"},"Share Via"),r.a.createElement("div",{className:"social_media_icons_row"},r.a.createElement("div",{className:"icon left-align"},r.a.createElement(x.a,{url:"www.facebook.com",quote:a.props.url,hashtag:"#CSCI_571_NewsApp"},r.a.createElement(T.a,{size:50,round:!0}))),r.a.createElement("div",{className:"icon center-align"},r.a.createElement(D.a,{url:"www.twitter.com",title:a.props.url,hashtags:["CSCI_571_NewsApp"]},r.a.createElement(A.a,{size:50,round:!0}))),r.a.createElement("div",{className:"icon right-align"},r.a.createElement(P.a,{subject:"CSCI_571_NewsApp",body:a.props.url},r.a.createElement(L.a,{size:50,round:!0})))))))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(this.Example,null)}}]),t}(r.a.Component),U=a(49),M=(a(97),a(72)),F=a.n(M),G=a(24),R=(a(64),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).checkArticleInBookmark=function(){for(var e=JSON.parse(localStorage.getItem("bookmarks")).bookmark,t=0;t<e.length;t++)if(e[t].id==a.props.id)return t;return!1},a.notify=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("bookmarks")),n=a.checkArticleInBookmark();if(!1===n){var r={};r.id=a.props.id,r.type=a.props.type,r.image=a.props.article_image,r.title=a.props.article_title,r.description=a.props.description,r.display_flag=a.props.display_flag,r.url=a.props.url,r.date=a.props.dte,r.section=a.props.section,t.bookmark.push(r),Object(G.c)("Saving: "+a.props.article_title,{className:"toast_text"})}else t.bookmark.splice(n,1),Object(G.c)("Removing from Bookmarks: "+a.props.article_title,{className:"toast_text"});localStorage.setItem("bookmarks",JSON.stringify(t)),a.forceUpdate()},a.componentDidMount=function(){console.log("here did mount",a.props),a.removeCommentBox=F()("5706336549470208-proj",{defaultBoxId:a.props.id})},a.componentWillUnmount=function(){a.removeCommentBox()},a.state={opened:!1},a.toggleBox=a.toggleBox.bind(Object(U.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toggleBox",value:function(){var e=this.state.opened;this.setState({opened:!e})}},{key:"render",value:function(){var e=this.props,t=(e.id,e.d,e.articleDate),a=e.display_flag,n=e.article_image,o=e.article_title,c=e.description,l=e.url,s=e.children,i=this.state.opened;console.log("image",n),console.log("prop",this.props);var m="";return a?(a&&i?(m=r.a.createElement(v.d,{size:32}),setTimeout((function(){window.scrollTo({top:1e4,left:0,behavior:"smooth"})}),1)):(m=r.a.createElement(v.c,{size:32}),setTimeout((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),1)),r.a.createElement("div",null,r.a.createElement("div",{className:"box test"},r.a.createElement("div",{className:"boxTitle"},r.a.createElement("p",{className:"title"},r.a.createElement("i",null,o)),r.a.createElement("div",{className:"date_icon"},r.a.createElement("p",null,r.a.createElement("i",null,t)),r.a.createElement("div",{className:"shre"},r.a.createElement("div",null,r.a.createElement(x.a,{"data-tip":"Facebook","data-for":"facebook",url:"www.facebook.com",quote:l,hashtag:"#CSCI_571_NewsApp"},r.a.createElement(T.a,{size:32,round:!0})),r.a.createElement(C.a,{id:"facebook",className:"tooltip",place:"top",type:"dark",effect:"solid"}),r.a.createElement(D.a,{"data-tip":"Twitter","data-for":"twitter",url:"www.twitter.com",title:l,hashtags:["CSCI_571_NewsApp"]},r.a.createElement(A.a,{size:32,round:!0})),r.a.createElement(C.a,{id:"twitter",className:"tooltip",place:"top",type:"dark",effect:"solid"}),r.a.createElement(P.a,{"data-tip":"Email","data-for":"email",url:"www.gmail.com",subject:"#CSCI_571_NewsApp",body:l},r.a.createElement(L.a,{size:32,round:!0})),r.a.createElement(C.a,{id:"email",className:"tooltip",place:"top",type:"dark",effect:"solid"})),r.a.createElement("div",{className:"bookmark",onClick:this.notify},r.a.createElement("p",{"data-tip":"bookmark","data-for":"bookmark"},!1===this.checkArticleInBookmark()?r.a.createElement(w.b.Provider,{value:{color:"red"}},r.a.createElement(v.b,{size:32})):r.a.createElement(w.b.Provider,{value:{color:"red"}},r.a.createElement(v.a,{size:32}))),r.a.createElement(C.a,{id:"bookmark",className:"tooltip",place:"top",type:"dark",effect:"solid"}),r.a.createElement(G.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,transition:G.b,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnVisibilityChange:!1,draggable:!1,pauseOnHover:!1})))),r.a.createElement("br",null),r.a.createElement("img",{src:n,width:"100%"}),r.a.createElement("br",null),c,i?"":"...",r.a.createElement("br",null)),i&&r.a.createElement("div",{class:"boxContent"},s),r.a.createElement("div",{style:{height:"35px"}},r.a.createElement("span",{onClick:this.toggleBox,style:{float:"right"}},m))),r.a.createElement("div",{className:"commentbox"}))):r.a.createElement("div",null,r.a.createElement("div",{className:"box test"},r.a.createElement("div",{className:"boxTitle"},r.a.createElement("p",{className:"title"},r.a.createElement("i",null,o)),r.a.createElement("div",{className:"date_icon"},r.a.createElement("p",null,r.a.createElement("i",null,t)),r.a.createElement("div",{className:"shre"},r.a.createElement("div",null,r.a.createElement(x.a,{"data-tip":"Facebook","data-for":"facebook",url:"www.facebook.com",quote:l,hashtag:"#CSCI_571_NewsApp"},r.a.createElement(T.a,{size:32,round:!0})),r.a.createElement(C.a,{id:"facebook",className:"tooltip",place:"top",type:"dark",effect:"solid"}),r.a.createElement(D.a,{"data-tip":"Twitter","data-for":"twitter",url:"www.twitter.com",title:l,hashtags:["CSCI_571_NewsApp"]},r.a.createElement(A.a,{size:32,round:!0})),r.a.createElement(C.a,{id:"twitter",className:"tooltip",place:"top",type:"dark",effect:"solid"}),r.a.createElement(P.a,{"data-tip":"Email","data-for":"email",url:"www.gmail.com",subject:"#CSCI_571_NewsApp",body:l},r.a.createElement(L.a,{size:32,round:!0})),r.a.createElement(C.a,{id:"email",className:"tooltip",place:"top",type:"dark",effect:"solid"})),r.a.createElement("div",{className:"bookmark",onClick:this.notify},r.a.createElement("p",{"data-tip":"bookmark","data-for":"bookmark"},!1===this.checkArticleInBookmark()?r.a.createElement(w.b.Provider,{value:{color:"red"}},r.a.createElement(v.b,{size:32})):r.a.createElement(w.b.Provider,{value:{color:"red"}},r.a.createElement(v.a,{size:32}))),r.a.createElement(C.a,{id:"bookmark",className:"tooltip1",place:"top",type:"dark",effect:"solid"}),r.a.createElement(G.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,transition:G.b,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnVisibilityChange:!1,draggable:!1,pauseOnHover:!1})))),r.a.createElement("br",null),r.a.createElement("img",{src:n,width:"100%"}),r.a.createElement("br",null),c,r.a.createElement("br",null))),r.a.createElement("div",{className:"commentbox"}))}}]),t}(r.a.Component)),W=a(6),q=a(40),H=a.n(q);function V(){var e=Object(S.a)([" padding-top: 50px; display: block; margin: 0 auto; border-color: red;"]);return V=function(){return e},e}var J=Object(W.css)(V()),Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.location.search,t=e.slice(1,3);a.setState({sourceType:t},console.log()),e=e.slice(4);var n="";n="gd"==t?"https://content.guardianapis.com/".concat(e,"?api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&show-blocks=all"):"https://api.nytimes.com/svc/search/v2/articlesearch.json?fq=web_url:(%22"+e+"%22)&api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi",console.log("fetching",n),fetch(n).then((function(e){return e.json()})).then((function(e){a.setState({isLoaded:!0,article:e})}),(function(e){a.setState({isLoaded:!1,error:e})}))},a.getTrimChar=function(e){var t=1500;if(console.log("trimming description",e.length),e.length<t)return e.length;for(;t>=0&&"."!=e.charAt(t);)console.log(t),t--;return t++},a.get_todays_date=function(e){var t=e.getDate(),a=e.getMonth()+1;return t=t<10?"0"+t:t,(e.getFullYear()+"-"+(a=a<10?"0"+a:a)+"-"+t).toString()},a.fetchNYTimesImage=function(e){if(e.multimedia){for(var t=0;t<e.multimedia.length&&e.multimedia[t].width<2e3;)t++;if(t<e.multimedia.length)return e.multimedia[t].url}return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg"},a.fetchGuardianImage=function(e){return e.blocks.main&&e.blocks.main.elements[0].assets&&e.blocks.main.elements[0].assets.length>0&&e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].typeData.width>2e3?e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file:"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png"},a.state={isLoaded:!1,error:null,article:"",sourceType:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.article,o=e.sourceType;if(t)return r.a.createElement("div",null,"Error");if(a){var c,l,s,i,m,u=1,d=800,p="",g="";if("gd"==o){var h=n.response.content;p=h.blocks.body[0].bodyTextSummary,c=new Date(h.webPublicationDate),l=h.webTitle,s=this.fetchGuardianImage(h),i=h.webUrl,m=h.sectionId}else p=n.response.docs[0].abstract,c=new Date(n.response.docs[0].pub_date),l=n.response.docs[0].headline.main,s=this.fetchNYTimesImage(n.response.docs[0]).startsWith("http")?this.fetchNYTimesImage(n.response.docs[0]):"http://nytimes.com/"+this.fetchNYTimesImage(n.response.docs[0]),i=n.response.docs[0].web_url,m=n.response.docs[0].news_desk;(p=p.trim()).split(".");if(p.length<d&&(u=0),u){for(;d>0&&" "!=p.charAt(d);)d--;g=p.slice(d),p=p.slice(0,d)}var f=this.get_todays_date(c);return console.log(f),r.a.createElement("div",{className:"expanded_article"},r.a.createElement(R,{type:o,dte:c,section:m,id:this.props.location.search.slice(4),articleDate:f,display_flag:u,article_image:s,article_title:l,description:p,url:i},r.a.createElement("div",null,g)))}return r.a.createElement("div",{className:"loading"},r.a.createElement(H.a,{css:J,size:50,color:"#3f48cc",loading:!a}),"Loading")}}]),t}(r.a.Component),X=a(29),K=a(59),$=(a(102),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getPostId=function(e){return console.log("getting id",e),"ny"==e.type?"/post?ny="+e.id:"/post?gd="+e.id},a.category=["sport","business","politics","world","technology","sports","gd","ny"],a.get_todays_date=function(e){var t=e.getDate(),a=e.getMonth()+1;return t=t<10?"0"+t:t,(e.getFullYear()+"-"+(a=a<10?"0"+a:a)+"-"+t).toString()},a.checkArticleInBookmark=function(e){for(var t=0;t<e.length;t++)if(e[t].id==a.props.id)return t;return!1},a.handleClick=function(e){e.preventDefault()},a.removeBookmark=function(e){return function(t){t.preventDefault();for(var n=JSON.parse(localStorage.getItem("bookmarks")),r=0;r<n.bookmark.length&&n.bookmark[r].id!=e;r++);Object(G.c)("Removing from Bookmarks: "+n.bookmark[r].title,{className:"toast_text"}),n.bookmark.splice(r,1),localStorage.setItem("bookmarks",JSON.stringify(n)),setTimeout((function(){a.forceUpdate()}),1e3)}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("bookmarks"));return console.log(t),0==t.bookmark.length?r.a.createElement("div",{className:"no_articles"},"You have no Saved Articles"):r.a.createElement("div",{className:"bookmark_page"},r.a.createElement("p",{className:"bookmark_header"},"Favorites"),r.a.createElement("div",{className:"container_search"},t.bookmark.map((function(t){return r.a.createElement("div",{className:"item_search"},r.a.createElement(y.b,{className:"searchCards",to:e.getPostId(t)},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null,t.title)),"\xa0\xa0\xa0",r.a.createElement("span",{onClick:e.handleClick},r.a.createElement(Y,{title:t.title,url:t.url})),"\xa0",r.a.createElement("span",{onClick:e.removeBookmark(t.id)},r.a.createElement("span",null,r.a.createElement(K.a,null),r.a.createElement(G.a,{position:"top-center",autoClose:2e3,hideProgressBar:!0,transition:G.b,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnVisibilityChange:!1,draggable:!1,pauseOnHover:!1})))),r.a.createElement("img",{src:t.image}),r.a.createElement("div",{className:"date_badge"},e.get_todays_date(new Date(t.date)),r.a.createElement("div",{class:"badgeicons"},r.a.createElement(X.a,{variant:"secondary",className:t.type},"gd"==t.type?"GUARDIAN":"NYTIMES")," ",r.a.createElement(X.a,{variant:"secondary",className:e.category.indexOf(t.section.toLowerCase())>-1?t.section.toLowerCase():"other"},t.section.toUpperCase())," "))))}))))}}]),t}(r.a.Component));a(103);function Z(){var e=Object(S.a)(["\n\tpadding-top: 50px;\n\tdisplay: block;\n\tmargin: 0 auto;\n\tborder-color: red;\n"]);return Z=function(){return e},e}var ee=Object(W.css)(Z()),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e){e.preventDefault()},a.category=["sport","business","politics","world","technology"],a.categoryNY=["sports","business","politics","world","technology"],a.curr="",a.componentWillReceiveProps=function(e){console.log("will receive",a.props,e),console.log("will prev",e),console.log("will cur",a.props);a.props.match.params.category;var t="";t=!1===e.news?"https://api.nytimes.com/svc/topstories/v2/".concat(a.curr?a.curr:"home",".json?api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"):"https://content.guardianapis.com/search?api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&section=".concat(a.curr?a.curr:"(sport|business|technology|politics)","&show-blocks=all"),a.props.news!=e.news&&a.fetchArticles(t)},a.componentDidUpdate=function(e){a.curr=a.props.match.params.category;var t="";t=!0===a.props.news?"https://content.guardianapis.com/search?api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&section=".concat(a.curr?a.curr:"(sport|business|technology|politics)","&show-blocks=all"):"https://api.nytimes.com/svc/topstories/v2/".concat(a.curr?a.curr:"home",".json?api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"),a.props.match.params.category!=e.match.params.category&&a.fetchArticles(t)},a.componentDidMount=function(){a.curr=a.props.match.params.category;var e="";e=!0===a.props.news?"https://content.guardianapis.com/search?api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&section=".concat(a.curr?a.curr:"(sport|business|technology|politics)","&show-blocks=all"):"https://api.nytimes.com/svc/topstories/v2/".concat(a.curr?a.curr:"home",".json?api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"),a.fetchArticles(e)},a.fetchArticles=function(e){console.log("fetching",e),a.setState({isLoaded:!1}),fetch(e).then((function(e){return e.json()})).then((function(e){a.setState({isLoaded:!0,newsArticles:e})}),(function(e){a.setState({isLoaded:!1,error:e})}))},a.fetchNYTimesImage=function(e){if(e.multimedia){for(var t=0;t<e.multimedia.length&&e.multimedia[t].width<2e3;)t++;if(t<e.multimedia.length)return e.multimedia[t].url}return"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg"},a.fetchGuardianImage=function(e,t){return e.blocks.main&&e.blocks.main.elements[0].assets&&e.blocks.main.elements[0].assets.length>0&&e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].typeData.width>2e3?e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file:"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png"},a.getPostId=function(e){return a.props.news?"/post?gd="+e.id:"/post?ny="+e.url},a.get_todays_date=function(e){var t=e.getDate(),a=e.getMonth()+1;return t=t<10?"0"+t:t,(e.getFullYear()+"-"+(a=a<10?"0"+a:a)+"-"+t).toString()},a.state={newsArticles:[],isLoaded:!1,error:null,toggle:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"trimDescription",value:function(e){var t=500;if(e.length<t)return e;for(;" "!==e.charAt(t)&&t>0;)t--;return e.slice(0,t)+" ..."}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded,o=t.newsArticles;return a?r.a.createElement("div",null,console.log(a)):n?this.props.news?r.a.createElement("div",{className:"news-container"},o.response.results.map((function(t,a){return r.a.createElement(y.b,{className:"minimizedPage",to:e.getPostId(t)},r.a.createElement("div",{className:"flex-grid-thirds news"},r.a.createElement("div",{className:"col_img"},r.a.createElement("img",{src:e.fetchGuardianImage(t)})),r.a.createElement("div",{className:"col_text"},r.a.createElement("p",null,r.a.createElement("i",null,r.a.createElement("b",null,t.webTitle),r.a.createElement("span",{onClick:e.handleClick},r.a.createElement(Y,{title:t.webTitle,url:t.webUrl})))),r.a.createElement("text",null,e.trimDescription(t.blocks.body[0].bodyTextSummary)),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"date"},r.a.createElement("i",null,e.get_todays_date(new Date(t.webPublicationDate)))),r.a.createElement("div",{className:"badge"},r.a.createElement("text",{className:"bade"},r.a.createElement(X.a,{variant:"secondary",className:e.category.indexOf(t.sectionId)>-1?t.sectionId:"other"},e.category.indexOf(t.sectionId)>-1?t.sectionId.toUpperCase():"HEALTH")," "))))))}))):(o.results=o.results.slice(0,10),r.a.createElement("div",{className:"news-container"},o.results.map((function(t,a){return r.a.createElement(y.b,{className:"minimizedPage",to:e.getPostId(t)},r.a.createElement("div",{class:"flex-grid-thirds"},r.a.createElement("div",{className:"col_img"},r.a.createElement("img",{src:e.fetchNYTimesImage(t)})),r.a.createElement("div",{className:"col_text"},r.a.createElement("p",null,r.a.createElement("i",null,r.a.createElement("b",null,t.title),r.a.createElement("span",{onClick:e.handleClick},r.a.createElement(Y,{title:t.title,url:t.url})))),r.a.createElement("text",null,e.trimDescription(t.abstract)),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"date"},r.a.createElement("i",null,e.get_todays_date(new Date(t.created_date)))),r.a.createElement("div",{className:"badge"},r.a.createElement("text",{className:"bade"},r.a.createElement(X.a,{variant:"secondary",className:e.categoryNY.indexOf(t.section)>-1?t.section:"other"},e.categoryNY.indexOf(t.section)>-1?t.section.toUpperCase():"HEALTH")))))))})))):r.a.createElement("div",{className:"loading"},r.a.createElement(H.a,{css:ee,size:50,color:"#3f48cc",loading:!n}),"Loading")}}]),t}(r.a.Component);a(104);function ae(){var e=Object(S.a)(["\n\tpadding-top: 50px;\n\tdisplay: block;\n\tmargin: 0 auto;\n\tborder-color: red;\n"]);return ae=function(){return e},e}var ne=Object(W.css)(ae()),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).getPostId=function(e){return console.log("getting id",e),console.log(a.state.sourceType),"ny"==a.state.sourceType?(console.log("/post?ny="+e.article_url),"/post?ny="+e.article_url):"/post?gd="+e.id},a.componentDidUpdate=function(e){var t=a.state.sourceType,n="";if(e.location.search!=a.props.location.search){var r=a.props.location.search.slice(4);n="gd"==t?"https://content.guardianapis.com/search?q=".concat(r,"&api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&show-blocks=all"):"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(r,"&api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"),a.fetchArticles(n)}},a.componentDidMount=function(){var e=a.props.location.search.slice(1,3);a.setState({sourceType:e},console.log()),console.log(a.props.location.search);var t=a.props.location.search.slice(4),n="";n="gd"==e?"https://content.guardianapis.com/search?q=".concat(t,"&api-key=39be595c-8df5-4058-babc-a20f7c80fe6c&show-blocks=all"):"https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(t,"&api-key=nNDwcXTQUpD8tYWGwP3vzfCSjfM0vRgi"),a.fetchArticles(n)},a.fetchArticles=function(e){console.log("fetching",e),a.setState({isLoaded:!1}),fetch(e).then((function(e){return e.json()})).then((function(e){a.setState({isLoaded:!0,articles:e})}),(function(e){a.setState({isLoaded:!1,error:e})}))},a.get_todays_date=function(e){var t=e.getDate(),a=e.getMonth()+1;return t=t<10?"0"+t:t,(e.getFullYear()+"-"+(a=a<10?"0"+a:a)+"-"+t).toString()},a.fetchImage=function(e,t){return e.blocks.main&&e.blocks.main.elements[0].assets&&e.blocks.main.elements[0].assets.length>0?e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file:"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png"},a.handleClick=function(e){e.preventDefault()},a.category=["sport","business","politics","world","technology"],a.categoryNY=["sports","business","politics","world","technology"],a.state={articles:[],isLoaded:!1,error:null,sourceType:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded,o=t.articles;if(a)return r.a.createElement("div",null,"Error");if(n){if("gd"==this.state.sourceType){if(0==o.response.results.length)return r.a.createElement("div",{className:"no_articles"},"No Articles Found");var c=o.response.results;return r.a.createElement("div",{className:"bookmark_page"},r.a.createElement("p",{className:"bookmark_header"}," Search Results"),r.a.createElement("div",{className:"container_search"},c.map((function(t){return r.a.createElement("div",{className:"item_search"},r.a.createElement(y.b,{className:"searchCards",to:e.getPostId(t)},r.a.createElement("p",null,r.a.createElement("b",null,t.webTitle),r.a.createElement("span",{onClick:e.handleClick},r.a.createElement(Y,{title:t.webTitle,url:t.webUrl}))),r.a.createElement("img",{src:e.fetchImage(t)}),r.a.createElement("div",{className:"date_badge"},e.get_todays_date(new Date(t.webPublicationDate)),r.a.createElement(X.a,{pill:!0,variant:"success",className:e.category.indexOf(t.sectionId)>-1?t.sectionId:"other"},t.sectionId.toUpperCase())," ")))}))))}for(var l=o.response.docs,s=[],i=0;i<l.length;i++){var m={},u=l[i].multimedia,d=1;if(u.length<0)d=0;else{var p=0;for(p=0;p<u.length;p++)if(u[p].width>2e3){d=0;break}if(p==u.length)continue}m.url=d?"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg":"http://www.nytimes.com/"+u[p].url,m.description=l[i].abstract,m.title=l[i].headline.main,m.article_url=l[i].web_url,m.pub_date=l[i].pub_date,m.section=l[i].news_desk,s.push(m)}return console.log("filtered",s),0==s.length?r.a.createElement("div",{className:"no_articles"},"No Articles Found"):r.a.createElement("div",{className:"bookmark_page"},r.a.createElement("p",{className:"bookmark_header"}," Search Results"),r.a.createElement("div",{className:"container_search"},s.map((function(t){return r.a.createElement("div",{className:"item_search"},r.a.createElement(y.b,{className:"minimizedPage",to:e.getPostId(t)},r.a.createElement("p",null,r.a.createElement("b",null,t.title),r.a.createElement("span",{onClick:e.handleClick},r.a.createElement(Y,{title:t.title,url:t.article_url}))),r.a.createElement("img",{src:t.url}),r.a.createElement("div",{className:"date_badge"},e.get_todays_date(new Date(t.pub_date)),r.a.createElement(X.a,{pill:!0,variant:"success",className:e.categoryNY.indexOf(t.section.toLowerCase())>-1?t.section.toLowerCase():"other"},t.section.toUpperCase())," ")))}))))}return r.a.createElement("div",{className:"loading"},r.a.createElement(H.a,{css:ne,size:50,color:"#3f48cc",loading:!n}),"Loading")}}]),t}(r.a.Component),oe=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(m.a)(t).call(this,e))).getNewsSource=function(e){n.setState({source:e},(function(){return console.log()}))},localStorage.getItem("bookmarks")||localStorage.setItem("bookmarks",JSON.stringify({bookmark:[]})),n.state={source:!localStorage.getItem("toggleState")||"guardian"==localStorage.getItem("toggleState"),error:null,suggestion:[],inputValue:""},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j,{callback:this.getNewsSource}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,strict:!0,path:"/news-app/post",component:Q}),r.a.createElement(d.a,{exact:!0,strict:!0,path:"/news-app/bookmarks",component:$}),r.a.createElement(d.a,{exact:!0,strict:!0,path:"/news-app/search",render:function(t){return r.a.createElement(re,Object.assign({},t,{news:e.state.source}))}}),r.a.createElement(d.a,{exact:!0,strict:!0,path:"/news-app/",render:function(t){return r.a.createElement(te,Object.assign({},t,{news:e.state.source}))}}),r.a.createElement(d.a,{exact:!0,strict:!0,path:"/news-app/:category",render:function(t){return r.a.createElement(te,Object.assign({},t,{news:e.state.source}))}})))}}]),t}(r.a.Component),ce=Object(d.f)(oe),le=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(i.a)(this,Object(m.a)(t).call(this,e)),console.log("App",e),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce,null))}}]),t}(r.a.Component),se=Object(d.f)(le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(y.a,null,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a(105)},81:function(e,t,a){},83:function(e,t,a){},92:function(e,t,a){},97:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.7a4709d6.chunk.js.map